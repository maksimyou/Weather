var y=Object.defineProperty;var f=(a,e,t)=>e in a?y(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var i=(a,e,t)=>(f(a,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();const l={main_background:"main-background-white",background_app:"background-app",btn_topics:"btn-topics-white",btn_search:"btn_search-white",btn_search_input:"btn_search-input",color_text:"text-all-white",hourly_background_day:"hourly_background_day-white",hourly_background_nigth:"hourly_background_nigth-white",current_temperature_white:"current-temperature-white",current_location:"btn-white-location"};class w{constructor(e){i(this,"white");i(this,"currentLocationTopic",this.createElement("current-location-topic-container","div"));i(this,"currentLocationTopicContent",this.createElement("current-location-topic-content","div"));i(this,"topicContainer",this.createElement("topic-container","div"));i(this,"topicItem",this.createElement("topic-item","div"));i(this,"topicToggle",this.createElement("topic-toggle","div"));i(this,"topicText",this.createElement("topic-text","div","Dark Mode"));i(this,"searchContainer",this.createElement("search-container","div"));i(this,"searchBtn",this.createElement("search-btn","button"));i(this,"searchElemInput",this.createElement("search-elem-input","input","Search for your preffered city..."));i(this,"currentLocationContainer",this.createElement("current-location-container","button"));i(this,"currentLocationImg",this.createElement("current-location-img","img","./assets/current-location-icon.png"));i(this,"currentLocationText",this.createElement("current-location-text","div","Current Location"));this.white=e}generationCurrentLocationTopic(){return this.topicItem.append(this.topicToggle),this.topicContainer.append(this.topicItem,this.topicText),this.searchContainer.append(this.searchBtn,this.searchElemInput),this.currentLocationContainer.append(this.currentLocationImg,this.currentLocationText),this.currentLocationTopicContent.append(this.topicContainer,this.searchContainer,this.currentLocationContainer),this.currentLocationTopic.append(this.currentLocationTopicContent),this.currentLocationTopic}switchTopics(){this.searchContainer.classList.toggle(this.white.btn_search),this.searchElemInput.classList.toggle(this.white.btn_search_input),this.topicItem.classList.toggle(this.white.btn_topics),this.currentLocationContainer.classList.toggle(this.white.current_location),JSON.parse(localStorage.getItem("topics"))==="black"?(localStorage.setItem("topics",JSON.stringify("white")),this.topicText.textContent="Dark Mode"):(localStorage.setItem("topics",JSON.stringify("black")),this.topicText.textContent="Light Mode")}createElement(e,t,n=""){const s=document.createElement(t);return Array.isArray(e)?s.classList.add(...e):s.classList.add(e),t==="img"?s.src=n:t==="input"?s.placeholder=n:s.textContent=n,s}}class T{constructor(e){i(this,"white");i(this,"locationTimeDate",this.createElement("location-time-date-container","div"));i(this,"locationTimeDateContent",this.createElement("location-time-date-content","div"));i(this,"location",this.createElement("location","div"));i(this,"time",this.createElement("time","div"));i(this,"date",this.createElement("date","div"));this.white=e}generationLocationTimeDate(){return this.locationTimeDate.innerHTML="",this.locationTimeDateContent.append(this.location,this.time,this.date),this.locationTimeDate.append(this.locationTimeDateContent),this.locationTimeDate}updateTimeDate(e,t,n){this.location.textContent=e,this.time.textContent=t,this.date.textContent=n}switchTopics(){this.locationTimeDateContent.classList.toggle(this.white.main_background)}createElement(e,t,n=""){const s=document.createElement(t);return Array.isArray(e)?s.classList.add(...e):s.classList.add(e),t==="img"?s.src=n:s.textContent=n,s}}class E{constructor(e){i(this,"white");i(this,"weatherDetails",this.createElement("weather-details-container","div"));i(this,"weatherDetailsContent",this.createElement("weather-details-content","div"));i(this,"mainDetailsContent",this.createElement("main-details-content","div"));i(this,"currentTemperature",this.createElement("current-temperature","div"));i(this,"feelsLike",this.createElement("feels-like","div"));i(this,"sunriseContent",this.createElement("sunrise-content","div"));i(this,"sunriseImg",this.createElement("sunrise-img","img","../assets/sunrise-white.png"));i(this,"sunriseTextContent",this.createElement("sunrise-text-content","div"));i(this,"sunriseText",this.createElement("sunrise-text","div","Sunrise"));i(this,"sunriseTime",this.createElement("sunrise-time","div"));i(this,"sunsetContent",this.createElement("sunset-content","div"));i(this,"sunsetImg",this.createElement("sunset-img","img","../assets/sunset-white.png"));i(this,"sunsetTextContent",this.createElement("sunset-text-content","div"));i(this,"sunsetText",this.createElement("sunset-text","div","Sunset"));i(this,"sunsetTime",this.createElement("sunset-time","div"));i(this,"iconWeather",this.createElement("icon-weather-content","div"));i(this,"iconWeatherImg",this.createElement("icon-weather-img","img"));i(this,"typeWeather",this.createElement("type-weather","div"));i(this,"extraDetails",this.createElement("extra-details-content","div"));i(this,"humidity",this.createElement("humidity-content","div"));i(this,"humidityImg",this.createElement("humidity-img","img","../assets/humidity.png"));i(this,"humidityData",this.createElement("humidity-data","div"));i(this,"humidityText",this.createElement("humidity-text","div","Humidity"));i(this,"windSpeed",this.createElement("wind-speed-content","div"));i(this,"windSpeedImg",this.createElement("wind-speed-img","img","../assets/wind.png"));i(this,"windSpeedData",this.createElement("wind-speed-data","div"));i(this,"windSpeedText",this.createElement("wind-speed-text","div","Wind Speed"));i(this,"pressure",this.createElement("pressure-content","div"));i(this,"pressureImg",this.createElement("pressure-img","img","../assets/pressure-white.png"));i(this,"pressureData",this.createElement("pressure-data","div"));i(this,"pressureText",this.createElement("pressure-text","div","Pressure"));i(this,"ultraviolet",this.createElement("ultraviolet-content","div"));i(this,"ultravioletImg",this.createElement("ultraviolet-img","img","./assets/uv-white.png"));i(this,"ultravioletData",this.createElement("ultraviolet-data","div"));i(this,"ultravioletText",this.createElement("ultraviolet-text","div","UV"));this.white=e}generationWeatherDetails(){return this.sunriseTextContent.append(this.sunriseText,this.sunriseTime),this.sunriseContent.append(this.sunriseImg,this.sunriseTextContent),this.sunsetTextContent.append(this.sunsetText,this.sunsetTime),this.sunsetContent.append(this.sunsetImg,this.sunsetTextContent),this.mainDetailsContent.append(this.currentTemperature,this.feelsLike,this.sunriseContent,this.sunsetContent),this.iconWeather.append(this.iconWeatherImg,this.typeWeather),this.humidity.append(this.humidityImg,this.humidityData,this.humidityText),this.windSpeed.append(this.windSpeedImg,this.windSpeedData,this.windSpeedText),this.pressure.append(this.pressureImg,this.pressureData,this.pressureText),this.ultraviolet.append(this.ultravioletImg,this.ultravioletData,this.ultravioletText),this.extraDetails.append(this.humidity,this.windSpeed,this.pressure,this.ultraviolet),this.weatherDetailsContent.append(this.mainDetailsContent,this.iconWeather,this.extraDetails),this.weatherDetails.append(this.weatherDetailsContent),this.weatherDetails}updateTimeDate(e,t,n,s,r,o,u,h,d,m){this.currentTemperature.textContent=`${e}℃`,this.feelsLike.innerHTML=`Feels like: <span class='feels-cel'>${t}℃</span>`,this.sunriseTime.textContent=n,this.sunsetTime.textContent=s;const c=r.split("/").slice(-2);this.iconWeatherImg.src=`../assets/${c[0]+"/"+c[1].slice(0,-4)+"/"+c[1].slice(0,-4)}@3x.png`,this.typeWeather.textContent=o,this.humidityData.textContent=`${u}%`,this.windSpeedData.textContent=`${h}km/h`,this.pressureData.textContent=`${d}hPa`,this.ultravioletData.textContent=m}switchTopics(){this.weatherDetailsContent.classList.toggle(this.white.main_background),this.currentTemperature.classList.toggle(this.white.current_temperature_white),JSON.parse(localStorage.getItem("topics"))==="black"?(this.sunriseImg.src="./assets/sunrise-white.png",this.sunsetImg.src="./assets/sunset-white.png",this.humidityImg.src="./assets/humidity.png",this.windSpeedImg.src="./assets/wind.png",this.pressureImg.src="./assets/pressure-white.png",this.ultravioletImg.src="./assets/uv-white.png"):(this.sunriseImg.src="./assets/sunrise-black.png",this.sunsetImg.src="./assets/sunset-black.png",this.humidityImg.src="./assets/humidity-black.png",this.windSpeedImg.src="./assets/wind-black.png",this.pressureImg.src="./assets/pressure-black.png",this.ultravioletImg.src="./assets/uv-black.png")}createElement(e,t,n=""){const s=document.createElement(t);return Array.isArray(e)?s.classList.add(...e):s.classList.add(e),t==="img"?s.src=n:s.textContent=n,s}}class v{constructor(e){i(this,"white");i(this,"daysForecast",this.createElement("days-forecast-container","div"));i(this,"daysForecastContent",this.createElement("days-forecast-content","div"));i(this,"daysForecastTitle",this.createElement("days-forecast-title","div","5 Days Forecast:"));this.white=e}generationDaysForecast(){return this.daysForecast.innerHTML="",this.daysForecastContent.innerHTML="",this.daysForecastContent.append(this.daysForecastTitle),this.daysForecast.append(this.daysForecastContent),this.daysForecast}updateDaysForecast(e,t){this.daysForecastContent.innerHTML="",this.daysForecastContent.append(this.daysForecastTitle),e.forecast.forecastday.forEach(n=>{this.createDayWeatgher(n.day.condition.icon,n.day.avgtemp_c,t(n.date,!0))})}createDayWeatgher(e,t,n){const s=this.createElement("day-forecast-container","div");console.log(e);const r=e.split("/").slice(-2),o=this.createElement("day-forecast-img","img",`../assets/${r[0]+"/"+r[1].slice(0,-4)+"/"+r[1].slice(0,-4)}.png`),u=this.createElement("day-forecast-temperature","div",`${t}℃`),h=this.createElement("day-forecast-date","div",n);s.append(o,u,h),this.daysForecastContent.append(s)}switchTopics(){this.daysForecastContent.classList.toggle(this.white.main_background)}createElement(e,t,n=""){const s=document.createElement(t);return Array.isArray(e)?s.classList.add(...e):s.classList.add(e),t==="img"?s.src=n:s.textContent=n,s}}class C{constructor(e){i(this,"white");i(this,"hourlyForecast",this.createElement("hourly-forecast-container","div"));i(this,"hourlyForecastContent",this.createElement("hourly-forecast-content","div"));i(this,"hourlyForecastTitle",this.createElement("hourly-forecast-title","div","Hourly Forecast:"));i(this,"hourlyForecastItems",this.createElement("hourly-forecast-items","div"));this.white=e}generationHourlyForecast(){return this.hourlyForecast.innerHTML="",this.hourlyForecastItems.innerHTML="",this.hourlyForecastContent.append(this.hourlyForecastTitle,this.hourlyForecastItems),this.hourlyForecast.append(this.hourlyForecastContent),this.hourlyForecast}createHourlyWeatgher(e,t,n,s,r){const o=this.createElement("hourly-item-container","div"),u=this.createElement("hourly-item-time","div",e),h=t.split("/").slice(-2),d=this.createElement("hourly-item-img","img",`../assets/${h[0]+"/"+h[1].slice(0,-4)+"/"+h[1].slice(0,-4)}@2x.png`),m=this.createElement("hourly-item-temperature","div",`${n}℃`);let c;r==="left"?c=this.createElement("hourly-item-img2","img","./assets/navigation-left.png"):r==="right"?c=this.createElement("hourly-item-img2","img","./assets/navigation-right.png"):c=this.createElement("hourly-item-img2","img","./assets/navigation.png");const g=this.createElement("hourly-item-speed","div",`${s}km/h`);o.append(u,d,m,c,g),this.hourlyForecastItems.append(o)}updateHourlyWeatgher(e){this.hourlyForecastItems.innerHTML="";let t=+e.location.localtime.slice(-5,-3);for(;t%3!==0;)t++;for(let n=0;n<5;n++)n==1?this.createHourlyWeatgher(e.forecast.forecastday[0].hour[t].time.slice(-5),e.forecast.forecastday[0].hour[t].condition.icon,e.forecast.forecastday[0].hour[t].temp_c,e.forecast.forecastday[0].hour[t].wind_kph,"left"):n===3?this.createHourlyWeatgher(e.forecast.forecastday[0].hour[t].time.slice(-5),e.forecast.forecastday[0].hour[t].condition.icon,e.forecast.forecastday[0].hour[t].temp_c,e.forecast.forecastday[0].hour[t].wind_kph,"right"):this.createHourlyWeatgher(e.forecast.forecastday[0].hour[t].time.slice(-5),e.forecast.forecastday[0].hour[t].condition.icon,e.forecast.forecastday[0].hour[t].temp_c,e.forecast.forecastday[0].hour[t].wind_kph),t+=3,t===24&&(t=0)}switchTopics(){this.hourlyForecastContent.classList.toggle(this.white.main_background),Array.from(this.hourlyForecastItems.children).forEach(e=>{var s,r;let t=(r=(s=e.querySelector(".hourly-item-time"))==null?void 0:s.textContent)==null?void 0:r.split(":")[0],n=Number(t);n>=6&&n<=18?e.classList.toggle(this.white.hourly_background_day):e.classList.toggle(this.white.hourly_background_nigth)})}createElement(e,t,n=""){const s=document.createElement(t);return Array.isArray(e)?s.classList.add(...e):s.classList.add(e),t==="img"?s.src=n:s.textContent=n,s}}JSON.parse(localStorage.getItem("topics"))&&localStorage.setItem("topics",JSON.stringify("black"));class L{constructor(){i(this,"root",document.querySelector(".app"));i(this,"loaderContainer",this.createElement(["loader-container","hidden"],"div"));i(this,"loader",this.createElement("loader","div"));i(this,"elemMainOne",this.createElement("main-one","div"));i(this,"elemMainSecond",this.createElement("main-second","div"));i(this,"currentLocationTopic",new w(l));i(this,"locationTimeDate",new T(l));i(this,"weatherDetails",new E(l));i(this,"daysForecast",new v(l));i(this,"hourlyForecast",new C(l))}generationMain(){this.currentLocationTopic.topicItem.addEventListener("click",()=>{this.switchTopics()}),this.currentLocationTopic.currentLocationContainer.addEventListener("click",()=>{this.getCurrentLocationApi()}),this.currentLocationTopic.searchBtn.addEventListener("click",()=>{this.getSearchApi()}),this.loaderContainer.append(this.loader),this.elemMainOne.append(this.locationTimeDate.generationLocationTimeDate(),this.weatherDetails.generationWeatherDetails()),this.elemMainSecond.append(this.daysForecast.generationDaysForecast(),this.hourlyForecast.generationHourlyForecast()),this.root.append(this.loaderContainer,this.currentLocationTopic.generationCurrentLocationTopic(),this.elemMainOne,this.elemMainSecond)}getDate(e,t=!1){const n=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return t?`${s[new Date(e).getDay()]}, ${new Date(e).getDate()} ${n[new Date(e).getMonth()].slice(0,3)}`:`${s[new Date(e).getDay()]}, ${new Date(e).getDate()} ${n[new Date(e).getMonth()]}`}getCurrentLocationApi(){fetch("https://ipapi.co/json/").then(e=>e.json()).then(e=>{console.log(e.city),this.getApiWeather(e.city)})}getSearchApi(){this.getApiWeather(this.currentLocationTopic.searchElemInput.value)}getApiWeather(e){this.loaderContainer.classList.toggle("hidden"),fetch(`https://api.weatherapi.com/v1/forecast.json?key=6e22385dfa224a24843211644230603&q=${e}&days=5&aqi=no&alerts=yes`).then(t=>t.json()).then(t=>{console.log(t),this.loaderContainer.classList.toggle("hidden"),this.locationTimeDate.updateTimeDate(t.location.name,t.location.localtime.slice(-5),this.getDate(t.location.localtime)),this.weatherDetails.updateTimeDate(t.current.temp_c,t.current.feelslike_c,t.forecast.forecastday[0].astro.sunrise,t.forecast.forecastday[0].astro.sunset,t.current.condition.icon,t.current.condition.text,t.current.humidity,t.current.wind_kph,t.current.pressure_mb,t.current.uv),this.daysForecast.updateDaysForecast(t,this.getDate),this.hourlyForecast.updateHourlyWeatgher(t)}).catch()}switchTopics(){this.root.classList.toggle(l.background_app),this.root.classList.toggle(l.color_text),this.currentLocationTopic.switchTopics(),this.locationTimeDate.switchTopics(),this.weatherDetails.switchTopics(),this.daysForecast.switchTopics(),this.hourlyForecast.switchTopics()}createElement(e,t,n=""){const s=document.createElement(t);return Array.isArray(e)?s.classList.add(...e):s.classList.add(e),t==="img"?s.src=n:s.textContent=n,s}}const p=new L;p.getApiWeather("Moscow");p.generationMain();
